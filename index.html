<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SoulForge — The Noticeboard</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=IM+Fell+English:ital,wght@0,400;0,700;1,400&family=Cinzel:wght@500;700&family=Cardo:wght@400;700&display=swap" rel="stylesheet">
<style>
  /* ----------- THEME VARIABLES ----------- */
  :root{
    --wood:#2b1f13;
    --soot:#1b130c;
    --ink:#1a1815;
    --parch:#ede3c7;
    --parch-deep:#d7caa2;
    --scar:#7d2e23;
    --brass:#b08d3b;
    --brass-dark:#6b5422;
    --rope:#bca37a;
    --shadow: 0 12px 40px rgba(0,0,0,.55);
  }

  /* ----------- BASE ----------- */
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;background:
    radial-gradient(1200px 800px at 70% 0%, rgba(255,255,240,.05), transparent 60%),
    linear-gradient(180deg, #23170f, var(--wood) 60%, #110b07);
    color:#201c15;
  }

  /* subtle wood plank wall */
  body:before{
    content:"";position:fixed;inset:0;pointer-events:none;opacity:.22;
    background:
      repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 2px, transparent 2px 6px),
      repeating-linear-gradient(180deg, rgba(0,0,0,.12) 0 3px, transparent 3px 100px);
    mix-blend-mode:soft-light;
  }

  /* torchlight flicker */
  .torch{
    position:fixed;top:-10%;left:-10%;right:-10%;bottom:-10%;
    pointer-events:none;mix-blend-mode:screen;opacity:.25;
    background: radial-gradient(600px 400px at 10% 15%, rgba(255,180,80,.18), transparent 60%),
                radial-gradient(500px 300px at 90% 12%, rgba(255,120,60,.12), transparent 65%);
    animation:flick 3.7s ease-in-out infinite;
  }
  @keyframes flick{
    0%,100%{filter:brightness(1)}
    35%{filter:brightness(1.10)}
    53%{filter:brightness(.95)}
    71%{filter:brightness(1.08)}
  }

  .wrap{max-width:1100px;margin:0 auto;padding:28px}

  /* ----------- NOTICEBOARD (parchment slab) ----------- */
  .board{
    position:relative;border-radius:18px;padding:26px;box-shadow:var(--shadow);
    background:
      radial-gradient(800px 600px at 50% 0%, rgba(0,0,0,.28), transparent 70%),
      linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.2) 30%, rgba(0,0,0,.4));
    border:2px solid #120c07;
  }

  .leather-strap{
    position:absolute;top:-12px;left:24px;right:24px;height:28px;border-radius:8px;
    background:linear-gradient(180deg,#5a3a2a,#3c261a);
    border:1px solid rgba(255,255,255,.08);box-shadow:0 8px 18px rgba(0,0,0,.5) inset;
  }
  .rivet{position:absolute;top:-6px;width:22px;height:22px;border-radius:50%;
    background:radial-gradient(closest-side,#f7e3a8,var(--brass) 60%, var(--brass-dark));
    box-shadow:0 2px 2px rgba(0,0,0,.6);border:1px solid rgba(0,0,0,.6)}
  .rivet.l{left:12px}.rivet.r{right:12px}

  /* parchment sheet */
  .parch{
    position:relative;margin-top:14px;border-radius:14px;padding:22px 22px 28px;
    background:
      radial-gradient(1200px 800px at 40% -20%, rgba(255,255,255,.5), transparent 55%),
      linear-gradient(180deg, var(--parch), var(--parch-deep) 78%, #cdbf94);
    border:1px solid rgba(0,0,0,.25);
    box-shadow:inset 0 2px 8px rgba(0,0,0,.25), 0 10px 24px rgba(0,0,0,.35);
  }
  /* deckle edge / roughness */
  .parch:before{
    content:"";position:absolute;inset:0;border-radius:14px;pointer-events:none;mix-blend-mode:multiply;opacity:.25;
    background:
      radial-gradient(800px 600px at 0% 0%, rgba(0,0,0,.25), transparent 60%),
      radial-gradient(600px 800px at 100% 100%, rgba(0,0,0,.2), transparent 60%),
      repeating-linear-gradient(45deg, rgba(0,0,0,.045) 0 2px, transparent 2px 5px);
  }

  /* headers & type */
  .hero-title{
    font-family:Cinzel,serif;letter-spacing:.5px;margin:0 0 6px;
    font-size:38px;color:#2a2419;text-shadow:0 1px 0 #f4ecd0;
  }
  .sub{font-family:"IM Fell English",serif;color:#3a3120;font-style:italic;margin:0 0 16px}

  .seal{
    display:inline-block;background:radial-gradient(closest-side,#b94a3e,var(--scar));color:#f7e7d9;
    border-radius:50%;width:64px;height:64px;line-height:64px;text-align:center;font-weight:700;
    box-shadow:inset 0 -6px 10px rgba(0,0,0,.25), 0 6px 16px rgba(0,0,0,.3);border:2px solid #5f1c16;
    transform:rotate(-8deg);
  }

  .row{display:grid;gap:18px}
  @media(min-width:900px){ .row{grid-template-columns:1.1fr .9fr;} }

  .pane{background:rgba(0,0,0,.06);border:1px dashed rgba(0,0,0,.35);
    border-radius:10px;padding:14px}

  /* QUEST BULLETS */
  .quests{list-style:none;margin:0;padding:0;display:grid;gap:10px}
  .quests li{background:rgba(255,255,255,.45);border:1px solid rgba(0,0,0,.22);border-radius:10px;padding:10px 12px}
  .quests b{font-family:Cinzel,serif}

  /* PARTY ROSTER (personas) */
  .roster{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}
  .card{
    display:grid;grid-template-columns:56px 1fr;gap:10px;align-items:start;
    background:rgba(255,255,255,.5);border:1px solid rgba(0,0,0,.25);border-radius:12px;padding:12px;
  }
  .token{
    width:56px;height:56px;border-radius:50%;
    background:radial-gradient(closest-side,#efe2b4,#b89337 60%, #6b5121);
    box-shadow:inset 0 0 24px rgba(255,255,255,.35), 0 2px 6px rgba(0,0,0,.4);
    position:relative;
  }
  .token:after{/* simple rune mark */
    content:"";position:absolute;inset:12px;border:2px solid rgba(0,0,0,.45);border-radius:50%;
    clip-path:polygon(50% 0, 64% 42%, 98% 42%, 70% 64%, 82% 100%, 50% 78%, 18% 100%, 30% 64%, 2% 42%, 36% 42%);
    opacity:.6;
  }
  .name{font-family:Cinzel,serif;font-weight:700}
  .blurb{font-family:"IM Fell English",serif;color:#32291a}

  /* BUTTONS */
  .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
  .btn{
    appearance:none;cursor:pointer;font-weight:700;
    font-family:Cardo,serif;color:#1b150b;
    padding:10px 14px;border-radius:8px;border:2px solid #4b3a17;
    background:linear-gradient(180deg, #e6d7aa, #d2bf86);
    box-shadow:inset 0 2px 0 rgba(255,255,255,.5), 0 3px 0 #3c2e12, 0 10px 18px rgba(0,0,0,.3);
  }
  .btn:hover{transform:translateY(-1px)}
  .btn.red{background:linear-gradient(180deg,#b94a3e,#7d2e23);color:#f8e9e2;border-color:#5f1c16}

  .footer{color:#c9bfa5;text-align:center;margin:26px 0 6px;font-family:Cardo,serif}
  .tiny{opacity:.75;font-size:13px}

  /* small code badge */
  code{background:rgba(0,0,0,.08);padding:2px 6px;border-radius:6px;border:1px solid rgba(0,0,0,.2)}
</style>
</head>
<body>
<div class="torch" aria-hidden="true"></div>

<div class="wrap">
  <div class="board">
    <div class="leather-strap"></div>
    <div class="rivet l"></div><div class="rivet r"></div>

    <div class="parch">
      <div style="display:flex;align-items:center;gap:14px;justify-content:space-between;flex-wrap:wrap">
        <div>
          <h1 class="hero-title">SoulForge: The Noticeboard</h1>
          <p class="sub">Missives for travelers, contracts for companions, and whispers from elder woods.</p>
        </div>
        <div class="seal">SF</div>
      </div>

      <div class="row">
        <div class="pane">
          <ul class="quests">
            <li><b>Contract I — Forged Voices:</b> Companions shaped by lore, not spreadsheets. Tone, diction, and presence that feel lived-in.</li>
            <li><b>Contract II — Party of Three:</b> Swap personas like changing parties at a campfire. High Elf, Dark Elf, Oracle… more to come.</li>
            <li><b>Contract III — Your Banner, Your Rules:</b> Host it, theme it, bind it to your realm. You own the forge.</li>
          </ul>
          <div class="actions">
            <a class="btn" href="#party">Meet the Party</a>
            <a class="btn red" href="#trial">Open the Trial</a>
          </div>
        </div>

        <div class="pane">
          <div style="font-family:Cinzel,serif;font-weight:700;margin-bottom:8px">Tavern Talk (Preview)</div>
          <div id="typebox" style="min-height:76px;font-family:'IM Fell English',serif;color:#2a2319"></div>
          <div class="actions" style="margin-top:10px">
            <a class="btn" id="openChat" href="chat-test.html" target="_blank">Open Chat Trial</a>
            <a class="btn" href="https://sf5-backend.vercel.app/api/ping" target="_blank">Check the Heartbeat</a>
          </div>
          <div class="tiny" style="margin-top:6px">Calls your live <code>/api/chat</code> endpoint. Mock mode available while the mage guild (billing) awakens.</div>
        </div>
      </div>

      <div id="party" style="margin-top:18px">
        <h2 class="hero-title" style="font-size:28px;margin:10px 0 8px">Party Roster</h2>
        <div class="roster">
          <div class="card">
            <div class="token"></div>
            <div>
              <div class="name">Elyndra, High Elf</div>
              <div class="blurb">Soft as moon-snow, sharp as star-iron. Speaks in silver, thinks in centuries.</div>
            </div>
          </div>

          <div class="card">
            <div class="token" style="background:radial-gradient(closest-side,#e9d7f5,#7e5aa8 60%, #3b2853)"></div>
            <div>
              <div class="name">Vaelith, Dark Elf</div>
              <div class="blurb">Candlelit wit and velvet menace. Mercy is a coin he rarely spends.</div>
            </div>
          </div>

          <div class="card">
            <div class="token" style="background:radial-gradient(closest-side,#e7f1ff,#96c0ff 60%, #2d4c86)"></div>
            <div>
              <div class="name">Lysera, Celestial Oracle</div>
              <div class="blurb">Moon-quiet and steadfast. Threads of fate drift where her words fall.</div>
            </div>
          </div>
        </div>
      </div>

      <div id="trial" style="margin-top:22px" class="pane">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap">
          <div>
            <div class="name">The Trial</div>
            <div class="blurb">Prove your worth. Speak to a forged soul and see if it speaks back.</div>
          </div>
          <a class="btn red" href="chat-test.html" target="_blank">Enter Trial</a>
        </div>
      </div>

      <div style="margin-top:24px;text-align:center" class="tiny">
        © <span id="year"></span> SoulForge • Ink, iron, and a little starlight.
      </div>
    </div>
  </div>

  <div class="footer tiny">Built with Vercel • GitHub • good old parchment</div>
</div>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  // tavern talk typewriter
  const lines = [
    "Elyndra: “Ah, traveler. The stars are loud tonight. Ask, and I shall listen.”",
    "Vaelith: “You seek counsel in shadow? Hnh. Sit, then—speak true.”",
    "Lysera: “A hush upon the thread. Your question tugs the weave.”"
  ];
  const el = document.getElementById('typebox');
  let i=0, j=0;

  function type() {
    const text = lines[i];
    el.textContent = text.slice(0, j++);
    if (j <= text.length) {
      setTimeout(type, 22);
    } else {
      setTimeout(()=>{ i = (i+1)%lines.length; j = 0; setTimeout(type, 900) }, 900);
    }
  }
  type();
</script>
</body>
</html>
